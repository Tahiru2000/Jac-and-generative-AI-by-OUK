<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Academic Assistant</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f6f8; padding: 20px; }
    .container { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    h2 { color: #004080; }
    label, input, button { display: block; width: 100%; margin: 10px 0; }
    input, button { padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    button { background: #004080; color: white; font-weight: bold; cursor: pointer; }
    button:hover { background: #0066cc; }
    .course-group { border: 1px solid #ddd; padding: 10px; margin: 10px 0; border-radius: 5px; background: #f9f9f9; }
    .result { background: #e6f2ff; border-left: 5px solid #004080; padding: 10px; margin-top: 20px; }
  </style>
</head>
<body>
  <div class="container">
    <h2>ðŸŽ“ Academic Assistant - CGPA Calculator</h2>

    <form method="POST" action="/academic">
      <!-- Step 1: Student Name & Number of Courses -->
      <label>Student Name:</label>
      <input type="text" name="student_name" value="{{ student_name|default('') }}" required>

      <label>Number of Courses:</label>
      <input type="number" name="num_courses" value="{{ num_courses|default('') }}" min="1" required>

      {% if num_courses %}
        <!-- Step 2: Dynamic Course Inputs -->
        {% for i in range(1, num_courses|int + 1) %}
          <div class="course-group">
            <h3>Course {{ i }}</h3>
            <label>Course Name:</label>
            <input type="text" name="course_{{ i }}" required>

            <label>Credit Hours:</label>
            <input type="number" name="credit_{{ i }}" min="1" required>

            <label>Score:</label>
            <input type="number" name="score_{{ i }}" min="0" max="100" required>
          </div>
        {% endfor %}
      {% endif %}

      <button type="submit">{{ 'Calculate CGPA' if num_courses else 'Next' }}</button>
    </form>

    {% if result %}
      <div class="result">
        <h3>CGPA Result:</h3>
        <pre>{{ result }}</pre>
      </div>
    {% endif %}
  </div>
</body>
</html>
